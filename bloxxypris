local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- ðŸ”¹ Create Main UI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BloxyPrisonHub"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- ðŸ”¹ Loading Screen
local LoadingFrame = Instance.new("Frame")
LoadingFrame.Size = UDim2.new(0, 400, 0, 120)
LoadingFrame.Position = UDim2.new(0.5, -200, 0.5, -60)
LoadingFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
LoadingFrame.BorderSizePixel = 0
LoadingFrame.BackgroundTransparency = 0.2
LoadingFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = LoadingFrame

local LoadingText = Instance.new("TextLabel")
LoadingText.Size = UDim2.new(1, 0, 0.6, 0)
LoadingText.Position = UDim2.new(0, 0, 0.2, 0)
LoadingText.Text = "Bloxy Prison Hub"
LoadingText.TextColor3 = Color3.fromRGB(255, 215, 0)
LoadingText.Font = Enum.Font.GothamBold
LoadingText.TextSize = 24
LoadingText.BackgroundTransparency = 1
LoadingText.Parent = LoadingFrame

local LoadingSubtext = Instance.new("TextLabel")
LoadingSubtext.Size = UDim2.new(1, 0, 0.3, 0)
LoadingSubtext.Position = UDim2.new(0, 0, 0.6, 0)
LoadingSubtext.Text = "Loading"
LoadingSubtext.TextColor3 = Color3.fromRGB(200, 200, 200)
LoadingSubtext.Font = Enum.Font.Gotham
LoadingSubtext.TextSize = 16
LoadingSubtext.BackgroundTransparency = 1
LoadingSubtext.Parent = LoadingFrame

-- Smooth loading animation
local dotCount = 0
local lastUpdate = tick()
local loadingConnection
loadingConnection = game:GetService("RunService").Heartbeat:Connect(function()
    local now = tick()
    if now - lastUpdate >= 0.5 then -- Update every 0.5 seconds instead of every frame
        lastUpdate = now
        dotCount = (dotCount % 3) + 1
        LoadingSubtext.Text = "Loading" .. string.rep(".", dotCount)
    end
end)

wait(2) -- Simulate loading time

loadingConnection:Disconnect()
TweenService:Create(LoadingFrame, TweenInfo.new(0.5), {BackgroundTransparency = 1}):Play()
wait(0.5)
LoadingFrame:Destroy()

-- ðŸ”¹ Key System
local KeyFrame = Instance.new("Frame")
KeyFrame.Size = UDim2.new(0, 400, 0, 250)
KeyFrame.Position = UDim2.new(0.5, -200, 0.5, -125)
KeyFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
KeyFrame.BackgroundTransparency = 0.2
KeyFrame.BorderSizePixel = 0
KeyFrame.Parent = ScreenGui

local KeyUICorner = Instance.new("UICorner")
KeyUICorner.CornerRadius = UDim.new(0, 8)
KeyUICorner.Parent = KeyFrame

local KeyTitle = Instance.new("TextLabel")
KeyTitle.Size = UDim2.new(1, 0, 0.2, 0)
KeyTitle.Position = UDim2.new(0, 0, 0.05, 0)
KeyTitle.Text = "ðŸ”‘ Authentication Required"
KeyTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
KeyTitle.Font = Enum.Font.GothamBold
KeyTitle.TextSize = 20
KeyTitle.BackgroundTransparency = 1
KeyTitle.Parent = KeyFrame

local KeyBox = Instance.new("TextBox")
KeyBox.Size = UDim2.new(0.8, 0, 0.12, 0)
KeyBox.Position = UDim2.new(0.1, 0, 0.35, 0)
KeyBox.PlaceholderText = "Enter your key here..."
KeyBox.Text = ""
KeyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
KeyBox.Font = Enum.Font.Gotham
KeyBox.TextSize = 16
KeyBox.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
KeyBox.BorderSizePixel = 0
KeyBox.Parent = KeyFrame

local KeyBoxCorner = Instance.new("UICorner")
KeyBoxCorner.CornerRadius = UDim.new(0, 4)
KeyBoxCorner.Parent = KeyBox

local SubmitButton = Instance.new("TextButton")
SubmitButton.Size = UDim2.new(0.8, 0, 0.12, 0)
SubmitButton.Position = UDim2.new(0.1, 0, 0.55, 0)
SubmitButton.BackgroundColor3 = Color3.fromRGB(255, 215, 0)
SubmitButton.Text = "SUBMIT"
SubmitButton.TextColor3 = Color3.fromRGB(25, 25, 25)
SubmitButton.Font = Enum.Font.GothamBold
SubmitButton.TextSize = 16
SubmitButton.Parent = KeyFrame

local SubmitCorner = Instance.new("UICorner")
SubmitCorner.CornerRadius = UDim.new(0, 4)
SubmitCorner.Parent = SubmitButton

local CopyKeyButton = Instance.new("TextButton")
CopyKeyButton.Size = UDim2.new(0.8, 0, 0.12, 0)
CopyKeyButton.Position = UDim2.new(0.1, 0, 0.75, 0)
CopyKeyButton.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
CopyKeyButton.Text = "GET KEY"
CopyKeyButton.TextColor3 = Color3.fromRGB(255, 215, 0)
CopyKeyButton.Font = Enum.Font.GothamBold
CopyKeyButton.TextSize = 16
CopyKeyButton.Parent = KeyFrame

local CopyKeyCorner = Instance.new("UICorner")
CopyKeyCorner.CornerRadius = UDim.new(0, 4)
CopyKeyCorner.Parent = CopyKeyButton

-- ðŸ”¹ Main UI Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 500, 0, 500)
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -250)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
MainFrame.BackgroundTransparency = 0.2
MainFrame.BorderSizePixel = 0
MainFrame.Visible = false
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 8)
MainCorner.Parent = MainFrame

-- Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0.08, 0)
TitleBar.Position = UDim2.new(0, 0, 0, 0)
TitleBar.BackgroundColor3 = Color3.fromRGB(255, 215, 0)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = MainFrame

local TitleBarCorner = Instance.new("UICorner")
TitleBarCorner.CornerRadius = UDim.new(0, 8, 0, 0)
TitleBarCorner.Parent = TitleBar

local TitleText = Instance.new("TextLabel")
TitleText.Size = UDim2.new(0.8, 0, 1, 0)
TitleText.Position = UDim2.new(0.1, 0, 0, 0)
TitleText.Text = "BLOXY PRISON HUB"
TitleText.TextColor3 = Color3.fromRGB(25, 25, 25)
TitleText.Font = Enum.Font.GothamBold
TitleText.TextSize = 20
TitleText.BackgroundTransparency = 1
TitleText.Parent = TitleBar

local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0.08, 0, 0.6, 0)
CloseButton.Position = UDim2.new(0.9, 0, 0.2, 0)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(25, 25, 25)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 18
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 215, 0)
CloseButton.BorderSizePixel = 0
CloseButton.Parent = TitleBar

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 4)
CloseCorner.Parent = CloseButton

-- Tab System
local TabButtons = Instance.new("Frame")
TabButtons.Size = UDim2.new(1, 0, 0.08, 0)
TabButtons.Position = UDim2.new(0, 0, 0.08, 0)
TabButtons.BackgroundTransparency = 1
TabButtons.Parent = MainFrame

local ScriptsTab = Instance.new("TextButton")
ScriptsTab.Size = UDim2.new(0.3, 0, 1, 0)
ScriptsTab.Position = UDim2.new(0.05, 0, 0, 0)
ScriptsTab.Text = "SCRIPTS"
ScriptsTab.TextColor3 = Color3.fromRGB(255, 215, 0)
ScriptsTab.Font = Enum.Font.GothamBold
ScriptsTab.TextSize = 16
ScriptsTab.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
ScriptsTab.BorderSizePixel = 0
ScriptsTab.Parent = TabButtons

local ScriptsCorner = Instance.new("UICorner")
ScriptsCorner.CornerRadius = UDim.new(0, 4, 0, 0)
ScriptsCorner.Parent = ScriptsTab

-- Content Area
local ContentFrame = Instance.new("ScrollingFrame")
ContentFrame.Size = UDim2.new(1, -20, 0.8, -10)
ContentFrame.Position = UDim2.new(0, 10, 0.18, 5)
ContentFrame.BackgroundTransparency = 1
ContentFrame.BorderSizePixel = 0
ContentFrame.ScrollBarThickness = 5
ContentFrame.ScrollBarImageColor3 = Color3.fromRGB(255, 215, 0)
ContentFrame.Parent = MainFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0, 10)
UIListLayout.Parent = ContentFrame

-- Script Buttons (simplified without descriptions)
local function createScriptButton(name, color, scriptUrl)
    local buttonFrame = Instance.new("Frame")
    buttonFrame.Size = UDim2.new(1, 0, 0, 60) -- Reduced height
    buttonFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    buttonFrame.BorderSizePixel = 0
    buttonFrame.Parent = ContentFrame
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 6)
    buttonCorner.Parent = buttonFrame
    
    local buttonHighlight = Instance.new("Frame")
    buttonHighlight.Size = UDim2.new(0, 5, 1, 0)
    buttonHighlight.Position = UDim2.new(0, 0, 0, 0)
    buttonHighlight.BackgroundColor3 = color
    buttonHighlight.BorderSizePixel = 0
    buttonHighlight.Parent = buttonFrame
    
    local highlightCorner = Instance.new("UICorner")
    highlightCorner.CornerRadius = UDim.new(0, 6, 0, 0)
    highlightCorner.Parent = buttonHighlight
    
    local buttonTitle = Instance.new("TextLabel")
    buttonTitle.Size = UDim2.new(0.7, 0, 1, 0)
    buttonTitle.Position = UDim2.new(0.1, 0, 0, 0)
    buttonTitle.Text = name
    buttonTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    buttonTitle.Font = Enum.Font.GothamBold
    buttonTitle.TextSize = 18
    buttonTitle.TextXAlignment = Enum.TextXAlignment.Left
    buttonTitle.BackgroundTransparency = 1
    buttonTitle.Parent = buttonFrame
    
    local executeButton = Instance.new("TextButton")
    executeButton.Size = UDim2.new(0.2, 0, 0.6, 0)
    executeButton.Position = UDim2.new(0.75, 0, 0.2, 0)
    executeButton.Text = "EXECUTE"
    executeButton.TextColor3 = Color3.fromRGB(25, 25, 25)
    executeButton.Font = Enum.Font.GothamBold
    executeButton.TextSize = 14
    executeButton.BackgroundColor3 = color
    executeButton.BorderSizePixel = 0
    executeButton.Parent = buttonFrame
    
    local executeCorner = Instance.new("UICorner")
    executeCorner.CornerRadius = UDim.new(0, 4)
    executeCorner.Parent = executeButton
    
    -- Button animations
    executeButton.MouseEnter:Connect(function()
        TweenService:Create(executeButton, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(
                math.min(color.R * 255 + 30, 255)/255,
                math.min(color.G * 255 + 30, 255)/255,
                math.min(color.B * 255 + 30, 255)/255
            )
        }):Play()
    end)
    
    executeButton.MouseLeave:Connect(function()
        TweenService:Create(executeButton, TweenInfo.new(0.2), {
            BackgroundColor3 = color
        }):Play()
    end)
    
    executeButton.MouseButton1Click:Connect(function()
        executeButton.Text = "LOADING..."
        loadstring(game:HttpGet(scriptUrl))()
        wait(0.5)
        executeButton.Text = "EXECUTE"
    end)
end

-- Add scripts (simplified)
createScriptButton(
    "Corgiware Script", 
    Color3.fromRGB(128, 0, 128), 
    "https://pastebin.com/raw/DuWbmerF"
)

createScriptButton(
    "Fling Script", 
    Color3.fromRGB(255, 0, 0), 
    "https://raw.githubusercontent.com/0Ben1/fe/main/obf_rf6iQURzu1fqrytcnLBAvW34C9N55kS9g9G3CKz086rC47M6632sEd4ZZYB0AYgV.lua.txt"
)

createScriptButton(
    "Prisonware Script", 
    Color3.fromRGB(255, 165, 0), 
    "https://raw.githubusercontent.com/Denverrz/scripts/master/PRISONWARE_v1.3.txt"
)

createScriptButton(
    "Tiger Admin Script", 
    Color3.fromRGB(255, 69, 0), 
    "https://raw.githubusercontent.com/Kohls-Admin-House/dump/main/Tiger%20Admin%20Source.lua"
)

createScriptButton(
    "Tbao Hub", 
    Color3.fromRGB(0, 191, 255), 
    "https://raw.githubusercontent.com/tbao143/thaibao/main/TbaohubPrisonLife"
)

-- ðŸ”¹ Key System Logic
SubmitButton.MouseButton1Click:Connect(function()
    if KeyBox.Text == "Key284" then
        -- Correct key entered
        TweenService:Create(KeyFrame, TweenInfo.new(0.3), {Position = UDim2.new(0.5, -200, 1.5, -125)}):Play()
        wait(0.3)
        KeyFrame.Visible = false
        
        -- Show main UI with animation
        MainFrame.Position = UDim2.new(0.5, -250, 1.5, -250)
        MainFrame.Visible = true
        TweenService:Create(MainFrame, TweenInfo.new(0.5), {Position = UDim2.new(0.5, -250, 0.5, -250)}):Play()
        
        -- Success notification
        local successNotification = Instance.new("TextLabel")
        successNotification.Size = UDim2.new(0, 200, 0, 40)
        successNotification.Position = UDim2.new(0.5, -100, 0.9, 0)
        successNotification.Text = "âœ… Key Accepted!"
        successNotification.TextColor3 = Color3.fromRGB(0, 255, 0)
        successNotification.Font = Enum.Font.GothamBold
        successNotification.TextSize = 14
        successNotification.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
        successNotification.BackgroundTransparency = 0.2
        successNotification.Parent = ScreenGui
        
        local notifCorner = Instance.new("UICorner")
        notifCorner.CornerRadius = UDim.new(0, 4)
        notifCorner.Parent = successNotification
        
        wait(2)
        TweenService:Create(successNotification, TweenInfo.new(0.5), {BackgroundTransparency = 1, TextTransparency = 1}):Play()
        wait(0.5)
        successNotification:Destroy()
    else
        -- Incorrect key animation
        KeyBox.Text = ""
        KeyBox.PlaceholderText = "Incorrect key!"
        TweenService:Create(KeyBox, TweenInfo.new(0.1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 3, true), {Position = UDim2.new(0.1, -5, 0.35, 0)}):Play()
        wait(0.1)
        TweenService:Create(KeyBox, TweenInfo.new(0.1), {Position = UDim2.new(0.1, 0, 0.35, 0)}):Play()
    end
end)

CopyKeyButton.MouseButton1Click:Connect(function()
    setclipboard("https://loot-link.com/s?UldSjc7n")
    CopyKeyButton.Text = "COPIED!"
    TweenService:Create(CopyKeyButton, TweenInfo.new(0.2), {TextColor3 = Color3.fromRGB(0, 255, 0)}):Play()
    wait(2)
    TweenService:Create(CopyKeyButton, TweenInfo.new(0.2), {TextColor3 = Color3.fromRGB(255, 215, 0)}):Play()
    CopyKeyButton.Text = "GET KEY"
end)

CloseButton.MouseButton1Click:Connect(function()
    TweenService:Create(MainFrame, TweenInfo.new(0.3), {Position = UDim2.new(0.5, -250, 1.5, -250)}):Play()
    wait(0.3)
    MainFrame.Visible = false
    KeyFrame.Visible = true
    KeyFrame.Position = UDim2.new(0.5, -200, 1.5, -125)
    TweenService:Create(KeyFrame, TweenInfo.new(0.5), {Position = UDim2.new(0.5, -200, 0.5, -125)}):Play()
end)
